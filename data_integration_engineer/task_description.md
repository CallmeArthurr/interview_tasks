
You need to design and implement a service that persists and reports measurements from smart meters to a database. The task is to model a database that is able to optimally persist simple smart meter data to a database, and optimally query and expose them via a REST API. 

The smart meter data should be generated by a CLI script that generates random energy values for the duration of 1 day, with 5 min intervals. Parameters to the CLI script should be: 
    - Smart meter ID
    - date that the user desires to generate energy values for

The data need to be published from the script to the database/REST API service using the publish/subscribe pattern. Any message broker can be used to support the messaging (e.g. Kafka, Redis, RabbitMQ). The format of the published (JSON) data should be the following:

- ```{"energy_kwh": <random value between 0-1>, "timestamp": <time that the energy was measured>, "smart_meter_id": <id of the smart meter>}```

The service should subscribe to the data published by the script and persist them in a database of your choice. The DB can be either SQL (e.g. Postgres, MySQL) or NoSQL (e.g. Cassandra, MongoDB)

The REST API of the service needs to expose only one endpoint:
- GET request that reads the energy value of the smart meter.
    - First query parameter for the GET request should be the smart meter id.  
    - The GET request should also support time ranges (there should be query parameters on the get request that filter the data according to a start time and an end time). Maximum allowed duration of the time range should be one hour. 

You can use any Python framework you like for the REST API (Flask, DRF, Bottle). Same goes for ORM (e.g. Django, SQLAlchemy, PonyORM)  

Finally, a Dockerfile has to be created that would install all the dependencies automatically and serve the API once the container is started. 

In order to submit your solution to this task a fork of this repo has to be created, and the solution can be committed to the fork. 
